# Pipeline 架构核心认知

> 2025-03-01 Wengee × Reel 讨论整理

---

## 原始信息（Wengee）

> step5 分镜 skill.md 的核心精髓在于：
>
> 1. 前几个子步骤 5.a - 5.c 是将整篇小说拆解到具体的 镜头列表，然后才来到最核心的分镜脚本，脚本 per 镜头。
> 2. 镜头列表 5.c 中有说明镜头的"景别 | 机位 | 运镜"，并且在5.d 中的每个镜头脚本的"画面描述" 中，也重复说明了镜头的信息。
>    a. 这些信息是从全局视角获取到的，它点到为止，只说明镜头的简单配置，不涉及更加详细的被拍照对象的具体外貌、衣着、场景氛围等等。所以比较准确和连贯。
>    b. 然而只有这些是不够的，被拍照对象的具体外貌、衣着、氛围灯，在哪里获取呢？
>    c. 这就是为何圣经设计"阶段注册表"的原因了。通过分镜对应的章节，在阶段注册表找到 stage_id，然后再去角色、场景圣经中找到该阶段被拍照对象的 外貌、衣着、场景氛围等
>    d. 比如，场景"泊岗镇"圣经中，有对每个阶段的氛围描述
>
> ```md
> ## 四、光影与氛围
>
> ### 繁忙期光影方案（ch11—ch29）
>
> **晨间（5:00—9:00）**
> - 东方水平线浅金红晕，水面反光刺目
> - 市集棚影长而浓黑，卖菜者在阴影中摆货
> - 老码头木材泛起湿润的棕色反光
> - 氛围：冷清转向活跃的时刻，少女般朦胧
>
>
> ### 诡寂期光影方案（ch30—ch34）
>
> **晨间**
> - 晨曦照不亮镇子，仿佛光线被吸收
> - 市集空荡荡，没有人烟，阴影显得诡异深沉
> - 暮蓝 #3A4A6B压倒所有其他色彩
> ```

---

## 分镜与圣经的协作关系

### Step5 分镜脚本：只管"摄影机语言"

- 5.a → 5.c 是将整篇小说逐步拆解到具体的**镜头列表**
- 镜头列表（5.c）和分镜脚本（5.d）中只描述：**景别 | 机位 | 运镜**
- 这些信息来自全局叙事视角，点到为止，**不涉及被拍对象的外貌、衣着、场景氛围**
- 优势：因为不掺杂细节，所以比较准确和连贯

### Step3 圣经：提供"被拍对象的一切"

- 被拍对象的外貌、衣着、场景氛围等细节，全部来自角色圣经和场景圣经
- 圣经不是静态文档，而是**按阶段（stage）组织的可查询数据库**

### 阶段注册表：连接两者的桥梁

核心查询路径：

```
分镜的章节号 → 圣经的阶段注册表(stage_id) → 该阶段的详细视觉描述
```

这就是为什么圣经要设计"阶段注册表"——它是整个系统的**索引枢纽**。

### 圣经为什么要分阶段

- 场景/角色不是静态的，会随剧情演变
- 例：泊岗镇 繁忙期（ch11-29）vs 诡寂期（ch30-34），光影氛围完全不同
- SKILL.md 原则："场景会呼吸" + "覆盖全部出场章节"
- 每个阶段有独立的视觉参数，精确服务于对应章节的分镜生成
