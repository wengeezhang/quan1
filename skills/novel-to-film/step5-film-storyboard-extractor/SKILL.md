---
name: film-storyboard-extractor
description: 将小说转化为可拍摄/可生成的分镜脚本。经过事件预可视化、场次分解、镜头设计、分镜脚本四个子步骤，产出完整的拍摄蓝图——每个镜头都标注出场角色的当前阶段（stage_id），使下游阶段6能精准查找对应参考图。
---

# 场次分解与分镜

## 定位

本技能是整条流水线中**从"视觉素材库"到"可执行拍摄计划"的转化枢纽**。

上游阶段1-4回答的是"我们有哪些视觉元素可用"，本阶段回答的是"这些元素在什么时间、什么空间、以什么方式组合成画面"。在好莱坞制作流程中，这对应 **Scene Breakdown → Shot List → Storyboard** 三步——编剧/导演将剧本拆解为场次，为每个场次设计镜头序列，再为每个镜头绘制分镜草图并撰写详细描述。

在 AI 制作流中，本阶段的产出直接决定了：
- 阶段6（首帧合成）生成什么画面——分镜描述 = Seedream 的提示词蓝本
- 阶段7（视频生成）产出什么运动——镜头的运镜方式和时长 = Seedance 的运动引导
- 最终成片的叙事节奏和视觉质量——分镜脚本是整部影片的骨架

**本阶段额外承担了一项前置任务**：事件预可视化（Event Pre-visualization）。关键事件是多元素在特定时间点的复杂组合，其视觉由角色+场景+道具共同决定。在进入逐场次分镜之前，先为最重要的事件建立整体视觉概念，作为后续分镜的视觉锚点。

## 核心原则

1. **一切服务于生成**——分镜脚本的最终消费者不是真人摄影师，而是 Seedream（首帧）和 Seedance 2.0（视频）。每个镜头描述都要能直接转化为 AI 生成的提示词
2. **时长即铁律**——Seedance 2.0 单次生成上限 15 秒，理想时长 8-10 秒。这不是"建议"，而是物理限制。超过 15 秒的连续动作必须拆分为多镜头并设计衔接点
3. **stage_id 贯穿始终**——分镜脚本中每个镜头必须标注出场角色和场景的当前 `stage_id`，这是阶段6通过 `asset_index.md` 精准查找参考图的唯一路径。标注必须与圣经阶段注册表字面完全一致，一个字都不能差
4. **场次是时空单元**——一个场次 = 一个连续的时空。时间跳跃或空间转换 = 新场次。这是电影语言的基本单元
5. **先全局后局部**——必须先完成全部场次分解，再逐场次设计镜头。不可边分解边设镜——全局节奏必须在局部之前确定
6. **叙事节奏优先**——镜头序列的设计不只是"记录发生了什么"，而是"引导观众的情绪"。景别、节奏、运镜方式的选择都服务于叙事目的

## 输入

- `chapters/` 下的全部小说章节原文
- `production/step1-extraction/events.md`——关键事件清单（含视觉强度评级）
- `production/step1-extraction/timeline.md`——时间线（辅助场次的时间标注）
- `production/step3-bibles/characters/` 下的全部角色圣经（第二章：阶段注册表）
- `production/step3-bibles/locations/` 下的全部场景圣经（第二章：阶段注册表）
- `production/step3-bibles/props/` 下的道具圣经（如有阶段注册表）
- `production/step4-assets/asset_index.md`——资产索引（角色/场景/道具的 stage_id → 参考图路径）
- `production/step2-art-direction/art_direction.md`——全局视觉风格定义（光影、色彩、构图偏好）

**研究方法**：
1. 先读 `asset_index.md`，明确可用的视觉资产范围——没有参考图的元素，分镜中不可标注
2. 读 `events.md`，筛选 ★★★★★ 事件作为 5a 预可视化的对象
3. 读 `timeline.md`，建立时间线全局认知
4. 读全部角色圣经的第二章（阶段注册表），建立"章节→角色阶段"映射表
5. 通读小说章节，以场次为单位标记段落边界

## 输出

`production/step5-storyboard/` 下的完整分镜资料：

```
production/step5-storyboard/
├── event-previs/                     # 5a: ★★★★★ 事件概念图
│   ├── E03_朱围庸攀爬十八层塔.md     # 事件预可视化描述 + AI提示词
│   ├── E04_朱围庸首次附身丁路.md
│   └── ...
├── scene_breakdown.md                # 5b: 场次分解表（全片）
├── shot_list.md                      # 5c: 镜头表（全片）
└── storyboard/                       # 5d: 分镜脚本（按场次分文件）
    ├── SC001.md
    ├── SC002.md
    └── ...
```

---

## 子步骤详解

### 5a. 事件预可视化（Event Pre-visualization）

#### 目的

关键事件是角色+场景+道具在特定时间点的复杂组合。单个元素的视觉已由各自圣经定义，但**多元素组合的整体画面效果**——空间调度、元素比例关系、视觉焦点、光效叠加——需要在分镜之前先行验证。

这相当于好莱坞大片中的 **Pre-visualization（预览）** 阶段：在正式分镜之前，先为最复杂的场面制作粗略的视觉概念，验证导演的视觉构想是否可行。

#### 筛选标准

从 `events.md` 中筛选进行预可视化的事件：

| 条件 | 说明 |
|------|------|
| 视觉强度 ★★★★★ | 必须预可视化 |
| 制作难度"高" | 优先预可视化——复杂场面越早验证越好 |
| 涉及多角色（≥3人） | 优先——多角色空间调度需提前规划 |
| 涉及大场面 | 必须——群体场景的画面密度需提前控制 |

#### 每个事件的预可视化产出

为每个入选事件生成一份 Markdown 文件，包含：

```markdown
# 事件预可视化：{事件名}

## 基本信息

| 属性 | 值 |
|------|-----|
| 事件编号 | E{XX} |
| 原始章节 | ch{X}-{Y} |
| 事件类型 | {类型} |
| 视觉强度 | ★★★★★ |
| 涉及角色 | {角色名}（{stage_id}）, ... |
| 涉及场景 | {场景名}（{stage_id}） |
| 涉及道具 | {道具名}（{stage_id 或 —}）, ... |

## 叙事梗概

用2-3段文字描述事件的完整经过，聚焦视觉可呈现的内容。

## 视觉概念

### 概念图A：{描述性标题}（如"全景鸟瞰"）

- **视角**：{鸟瞰 / 全景 / 中景 / 特写}
- **画面主体**：{画面中心是什么}
- **空间关系**：{各元素的相对位置}
- **光影氛围**：{光源方向、色温、明暗对比}
- **动态要素**：{画面中有哪些运动或变化}

#### AI 生成提示词

` `` (用实际三反引号)
{完整的 Seedream 提示词，包含全局 style prompt 前缀}
` ``

### 概念图B：{描述性标题}（如"关键瞬间特写"）

（同上结构）

## 分镜提示

- **建议镜头数**：{N} 个镜头
- **核心视觉挑战**：{如"多角色空间调度"、"超自然光效叠加"等}
- **与前后场次的衔接**：{如何从前一个场次过渡到此事件，事件结束后如何衔接}
```

#### 事件编号规则

- 格式：`E{XX}`，按 `events.md` 中的出现顺序编号（E01, E02, ...）
- 文件名格式：`E{XX}_{事件名简称}.md`
- 事件编号在后续分镜脚本中引用，如 `## 关联事件：E07`

---

### 5b. 场次分解（Scene Breakdown）

#### 目的

将小说按叙事段落拆分为独立的"场次"（Scene），每个场次对应一个**连续的时空单元**。场次是电影的基本结构单位——一个场次内，时间连续流动，空间不发生切换。

场次分解决定了整部影片的结构骨架、叙事节奏和预估片长。

#### 场次划分规则

**新场次的触发条件**（满足任一即需新建场次）：

1. **空间切换**——角色从一个地点移动到另一个地点
2. **时间跳跃**——叙事时间出现不连续（如"三天后"、"翌日清晨"）
3. **叙事视角切换**——从A角色的故事线切换到B角色的故事线（平行叙事）
4. **情绪基调剧变**——同一时空内情绪发生根本转变（如从喜剧突变为恐怖），且导演意图用剪辑点强调这一转变

**不触发新场次的情况**：
- 同一时空内的正常对话、动作连续推进
- 短暂的闪回（作为当前场次的插入镜头处理，不独立成场次，除非闪回超过30秒）
- 小范围的空间移动（如从房间走到走廊，仍在同一建筑内且连续发生）

#### 场次编号规则

- 格式：`SC{NNN}`，三位数，从 001 开始连续编号
- 编号严格按影片叙事顺序（注意：可能与小说章节顺序不同，如果导演决定调整叙事结构）
- 场次编号一旦确定，后续不可变更——它是镜头编号的前缀

#### 产出格式：scene_breakdown.md

```markdown
# 场次分解表

> 本文件由阶段5（场次分解与分镜）产出，是全片的结构骨架。
> 每个场次对应一个连续的时空单元。场次编号 SC{NNN} 是后续镜头编号的前缀。

## 全片概览

| 指标 | 值 |
|------|-----|
| 总场次数 | {N} |
| 覆盖章节 | ch1 - ch71 |
| 预估总片长 | {X}分{Y}秒 |
| 叙事结构 | {如"五幕式"、"三幕式"} |

## 叙事结构分幕

| 幕 | 场次范围 | 章节范围 | 叙事功能 | 预估时长 |
|-----|---------|---------|---------|---------|
| 第一幕：开端 | SC001-SC{N} | ch1-ch{X} | {建立世界、引入角色、触发事件} | {MM:SS} |
| ... | ... | ... | ... | ... |

## 章节→角色阶段映射

> 附录：从全部角色/场景圣经的阶段注册表提取。给定任意章节，即可查找各角色/场景当前的 stage_id。

| 角色/场景 | ch1-3 | ch4-7 | ch8-71 | ...
|----------|-------|-------|--------|
| 朱围庸 | 灵魂期 | 占身丁路期 | 占身乞丐期 |
| 宋小仙 | — | 追魂使期 | 追魂使期 |
| ... | ... | ... | ... |

## 场次明细

### SC001

| 属性 | 值 |
|------|-----|
| 场次编号 | SC001 |
| 对应章节 | ch{X}（第{N}段 - 第{M}段） |
| 地点 | {场景名}（stage_id：{阶段}） |
| 时间 | {日/夜/晨/昏/不确定} |
| 出场角色 | {角色A}（{stage_id}）、{角色B}（{stage_id}） |
| 关键道具 | {道具名}（{stage_id 或 —}） |
| 情绪基调 | {如：紧张、温馨、恐怖、史诗、悲伤} |
| 关联事件 | {E{XX} 或 —} |
| 预估时长 | {MM:SS} |
| 叙事功能 | {一句话：这个场次在故事中的作用} |

**场次概要**：
{2-3句话描述这个场次发生了什么，聚焦视觉可呈现的内容}

---

### SC002
...
```

#### 场次时长估算方法

| 场次类型 | 基准时长 | 说明 |
|---------|---------|------|
| 纯对话场次 | 30-90秒 | 取决于对话轮次和情感密度 |
| 动作/追逐场次 | 45-120秒 | 快节奏多镜头 |
| 大场面/战斗场次 | 90-180秒 | 多角色、多视角，镜头数量多 |
| 情感/氛围场次 | 20-60秒 | 少镜头，长镜头，留白 |
| 转场/过渡场次 | 10-30秒 | 建立新空间，1-2个镜头 |
| 蒙太奇场次 | 30-90秒 | 时间压缩，多短镜头快切 |

---

### 5c. 镜头设计（Shot List）

#### 目的

为每个场次设计具体的镜头序列。镜头是影片的最小可执行单元——每个镜头对应一次 Seedance 2.0 视频生成调用。

#### 镜头编号规则

- 格式：`{场次编号}-{三位镜头序号}`，如 `SC005-003` 表示第5个场次的第3个镜头
- 镜头按场次内的时间顺序编号
- 同一场次内的镜头编号连续，从 001 开始

#### 镜头设计要素

每个镜头须定义以下要素：

| 要素 | 说明 | 对应下游用途 |
|------|------|------------|
| 景别 | 远景/全景/中景/中近景/近景/特写/大特写 | 决定画面构图和 Seedream 提示词中的视角描述 |
| 机位角度 | 平视/俯视/仰视/鸟瞰/荷兰角 | 决定画面透视和情绪暗示 |
| 运镜方式 | 固定/推/拉/摇/跟/升/降/手持/环绕 | 决定 Seedance 的运动提示词 |
| 画面内容 | 画面中有什么、在做什么 | Seedream 提示词的主体内容 |
| 时长 | 8-15秒（铁律） | Seedance 单次生成时长 |
| 衔接方式 | 硬切/叠化/淡入淡出/动作衔接/视线衔接 | 阶段8剪辑的转场指引 |

#### 景别选择指南

| 景别 | 画面范围 | 典型用途 | Seedance 适配 |
|------|---------|---------|--------------|
| 大远景 | 广阔环境，人物极小 | 建立空间、史诗感 | 适合固定机位，环境运动 |
| 远景 | 环境为主，人物可辨 | 建立场次空间关系 | 适合缓慢推/摇 |
| 全景 | 人物全身，环境明确 | 展示角色与环境关系 | 适合跟拍、环绕 |
| 中景 | 人物膝部以上 | 对话、互动、动作 | 最通用景别 |
| 中近景 | 人物胸部以上 | 对话、情绪表达 | 适合固定或微推 |
| 近景 | 人物肩部以上 | 情绪特写、反应 | 适合固定 |
| 特写 | 面部或单一物体 | 强调情绪、细节 | 适合固定或微推 |
| 大特写 | 眼睛、手、道具局部 | 极度强调 | 适合固定 |

#### 运镜方式与 Seedance 适配

| 运镜 | 效果 | Seedance 提示词关键词 | 适用时长 |
|------|------|---------------------|---------|
| 固定 | 稳定、客观 | `static camera` / `locked shot` | 8-15s |
| 推（Dolly In） | 聚焦、紧迫感 | `camera slowly pushes in` / `dolly in` | 8-12s |
| 拉（Dolly Out） | 揭示、孤立感 | `camera pulls back` / `dolly out` | 8-12s |
| 摇（Pan） | 跟随、巡视 | `camera pans left/right` | 8-10s |
| 跟（Tracking） | 伴随角色移动 | `camera follows the character` | 10-15s |
| 升/降（Crane） | 气势、情绪起伏 | `camera rises` / `crane up/down` | 10-15s |
| 环绕（Orbit） | 戏剧性、强调 | `camera orbits around` | 10-15s |
| 手持 | 纪实感、紧张 | `handheld camera` / `shaky cam` | 8-10s |

#### 时长约束与拆分策略

**铁律**：单镜头时长 ≤ 15 秒（Seedance 2.0 物理上限），理想 8-10 秒。

**超时动作的拆分方法**：

| 拆分场景 | 策略 | 示例 |
|---------|------|------|
| 长对话 | 正反打切换 | A说话(10s) → B反应(8s) → A继续(10s) |
| 持续动作 | 景别跳切 | 全景奔跑(10s) → 特写脚步(8s) → 中景气喘(10s) |
| 空间移动 | 位置分割 | 门口出发(10s) → 走廊行走(10s) → 到达目的地(10s) |
| 复杂事件 | 多视角分切 | 全景战场(10s) → 主角特写(8s) → 对手反应(8s) |
| 情绪渐变 | 情绪节点分割 | 平静(10s) → 转折瞬间(8s) → 爆发(10s) |

**衔接点设计**：拆分后的多镜头之间必须设计衔接点，确保视觉连续。常用衔接方式：

- **动作衔接**：前一镜头的动作在后一镜头中延续（如挥拳→拳头落下）
- **视线衔接**：前一镜头角色看向某方向→后一镜头展示看到的内容
- **声音衔接**：前一镜头开始的声音延续到后一镜头（如脚步声、对话声）
- **运动衔接**：前一镜头的运镜方向与后一镜头的运镜方向一致
- **重叠衔接**：前一镜头尾部动作与后一镜头首部动作有1-2秒重叠——这对 Seedance 的 First/Last Frame 模式尤为重要

#### 产出格式：shot_list.md

```markdown
# 镜头表

> 本文件由阶段5产出，是全片的镜头序列设计。
> 每个镜头对应一次 Seedance 2.0 生成调用。
> 镜头中的角色/场景阶段标注（stage_id）用于阶段6通过 asset_index.md 查找参考图。

## 全片统计

| 指标 | 值 |
|------|-----|
| 总镜头数 | {N} |
| 总场次数 | {N} |
| 平均每场次镜头数 | {N.N} |
| 预估总片长 | {MM:SS} |

## 场次：SC001

| 镜号 | 景别 | 机位 | 运镜 | 时长 | 角色（stage_id） | 场景（stage_id） | 画面概要 | 衔接 |
|------|------|------|------|------|-----------------|-----------------|---------|------|
| SC001-001 | 大远景 | 鸟瞰 | 缓推 | 10s | — | 牛台山（默认） | 晨雾中的牛台山全貌 | → 叠化 |
| SC001-002 | 中景 | 平视 | 固定 | 8s | 老吴（默认期） | 山间小路（默认） | 老吴在山间小路上蹒跚前行 | → 硬切 |
| ... | ... | ... | ... | ... | ... | ... | ... | ... |

## 场次：SC002
...
```

---

### 5d. 分镜脚本（Storyboard）

#### 目的

为每个镜头撰写**详细的画面描述和生成指引**。分镜脚本是阶段6（首帧合成）和阶段7（视频生成）的直接输入——它描述的不只是"画面中有什么"，还包括"画面是什么感觉"。

分镜脚本按场次分文件，每个文件对应一个场次的全部镜头。

#### 每个镜头的分镜描述

```markdown
### 镜头 {镜号}

**技术参数**

| 参数 | 值 |
|------|-----|
| 镜号 | {SC{NNN}-{NNN}} |
| 章节 | ch{X} |
| 景别 | {景别} |
| 机位 | {角度} |
| 运镜 | {方式} |
| 时长 | {N}s |
| 关联事件 | {E{XX} 或 —} |

**元素标注**

| 类型 | 元素 | stage_id | 参考图来源 |
|------|------|----------|-----------|
| 角色 | 朱围庸 | 占身乞丐期 | asset_index → characters/朱围庸/占身乞丐期/ |
| 角色 | 宋小仙 | 追魂使期 | asset_index → characters/宋小仙/追魂使期/ |
| 场景 | 恶灵区 | 默认 | asset_index → locations/恶灵区/默认/ |
| 道具 | 泉水 | — | asset_index → props/泉水/ |

**画面描述**

{详细的画面构图描述，包含：}
- 前景/中景/背景的空间层次
- 角色位置、姿态、表情、动作
- 光源方向、色温、明暗对比
- 环境细节和氛围元素
- 画面的视觉焦点和引导线

**动态描述**（这 {N} 秒内发生什么）

{按时间顺序描述镜头内的运动和变化：}
1. 0-3s：{开始状态和初始运动}
2. 3-7s：{中段动作或情绪变化}
3. 7-10s：{结束状态，为下一镜头的衔接做准备}

**音效提示**

- 环境音：{如"山风呼啸"、"集市嘈杂"}
- 动作音：{如"脚步声"、"刀剑碰撞"}
- 情绪音：{如"低沉弦乐渐强"、"寂静"}

**衔接说明**

- 与上一镜头：{如"动作衔接：延续 SC005-002 中角色的转身动作"}
- 与下一镜头：{如"视线衔接：角色看向画面左侧 → SC005-004 揭示其视线方向的内容"}

**首帧合成提示**（供阶段6使用）

- 连续性需求：{是否需要 First/Last Frame 模式？如需，标注对接镜号}
  - 前接：{SC{NNN}-{NNN} 尾帧 → 本镜头首帧} 或 {无}
  - 后接：{本镜头尾帧 → SC{NNN}-{NNN} 首帧} 或 {无}
- 参考图使用建议：{如"以朱围庸占身乞丐期正面像为一致性参考，权重 0.7"}
```

#### 场次文件结构

每个场次文件的完整结构：

```markdown
# 场次 {SC{NNN}}：{场次标题}

## 场次信息

| 属性 | 值 |
|------|-----|
| 场次编号 | SC{NNN} |
| 对应章节 | ch{X}（第{N}段 - 第{M}段） |
| 地点 | {场景名}（stage_id：{阶段}） |
| 时间 | {日/夜/晨/昏} |
| 情绪弧线 | {起始情绪} → {转折} → {结束情绪} |
| 镜头数 | {N} |
| 预估时长 | {MM:SS} |

## 出场元素

### 角色

| 角色 | stage_id | 章节推导 | 备注 |
|------|----------|---------|------|
| 朱围庸 | 占身乞丐期 | ch12 → 映射表 | 主视角 |
| 宋小仙 | 追魂使期 | ch12 → 映射表 | 对手 |

### 场景

| 场景 | stage_id | 备注 |
|------|----------|------|
| 恶灵区 | 默认 | 外景 |

### 道具

| 道具 | stage_id | 备注 |
|------|----------|------|
| 泉水 | — | 朱围庸携带 |

## 场次概述

{3-5句话描述本场次的叙事内容和情绪走向}

## 镜头序列

### 镜头 SC{NNN}-001
{按上述分镜描述格式}

---

### 镜头 SC{NNN}-002
...
```

---

## 工作流程

### 第一步：建立章节→阶段映射表

从全部角色圣经和场景圣经的阶段注册表中提取映射关系：

1. 读取每个角色圣经的第二章（阶段注册表），记录 `stage_id` 及其章节范围
2. 读取每个场景圣经的阶段注册表，记录 `stage_id` 及其章节范围
3. 读取有阶段注册表的道具圣经，记录 `stage_id` 及其章节范围
4. 整理为"给定 ch{N}，查询各元素当前 stage_id"的快速映射表
5. 与 `asset_index.md` 交叉验证：确保映射表中的每个 `stage_id` 都能在 asset_index 中找到对应的参考图路径

**这一步是后续所有工作的基础。** 映射表的任何错误都会导致分镜标注错误，进而导致阶段6查找错误的参考图。

### 第二步：事件预可视化（5a）

1. 从 `events.md` 中筛选 ★★★★★ 事件
2. 逐个事件分析：
   - 涉及哪些角色/场景/道具？各自在什么阶段？
   - 画面的核心视觉挑战是什么？
   - 需要几张概念图来传达整体视觉概念？
3. 撰写每个事件的预可视化文件，包含 AI 生成提示词
4. 产出存放在 `production/step5-storyboard/event-previs/`

### 第三步：全局场次分解（5b）

1. 通读全部小说章节，标记每个场次的边界
2. 为每个场次分配编号（SC001, SC002, ...）
3. 填写场次信息表（地点、时间、角色、情绪、关联事件）
4. 利用章节→阶段映射表，自动填写每个角色和场景的 `stage_id`
5. 估算每个场次的时长
6. 检查全片叙事节奏：各幕的时长分布是否合理？高潮场次的密度是否恰当？
7. 产出 `scene_breakdown.md`

### 第四步：逐场次镜头设计（5c）

1. 按场次顺序，为每个场次设计镜头序列
2. 确定每个镜头的景别、机位、运镜、时长
3. **严格检查时长约束**：单镜头 ≤ 15s，超时动作必须拆分
4. 设计镜头间的衔接方式
5. 标注需要 First/Last Frame 连续性的镜头对
6. 产出 `shot_list.md`

### 第五步：分镜脚本编写（5d）

1. 按场次分文件，为每个镜头撰写详细分镜描述
2. **元素标注必须完整**：每个镜头的角色、场景、道具都标注 `stage_id` 和参考图来源
3. 画面描述须足够详细，能直接转化为 Seedream 提示词
4. 动态描述按时间轴分段，对应 Seedance 的运动引导
5. 标注首帧合成提示（连续性需求、参考图使用建议）
6. 产出 `storyboard/{SC{NNN}}.md`

### 第六步：全局审查

1. **stage_id 一致性审查**：抽查 20% 的镜头，验证角色/场景的 `stage_id` 标注是否与章节→阶段映射表一致
2. **时长合规审查**：检查所有镜头时长是否在 8-15s 范围内
3. **衔接完整性审查**：每个需要 First/Last Frame 的镜头对，两端是否都有标注？
4. **覆盖完整性审查**：小说的每一章是否都有对应的场次？有无遗漏的重要情节？
5. **资产可用性审查**：分镜标注的每个元素+stage_id 组合，是否都能在 `asset_index.md` 中找到？如有缺失，须回到阶段4补充
6. **节奏审查**：全片的镜头密度分布是否合理？是否有过长的静态段落或过密的快切段落？

---

## 镜头语言参考

### 常用镜头模式（Pattern）

以下是针对不同叙事场景的标准镜头组合模式，可直接套用：

#### 对话场次（两人）

```
镜头1: 中景/全景（建立场景和人物位置关系）   10s
镜头2: 中近景/A（A说话）                    8-10s
镜头3: 中近景/B（B反应+回应）               8-10s
镜头4: 过肩镜头（从A肩部看B）               8-10s
镜头5: 过肩镜头（从B肩部看A）               8-10s
镜头6: 特写/A或B（情绪高潮时刻）            8s
镜头7: 中景/双人（关系变化后的新空间关系）    10s
```

#### 追逐/动作场次

```
镜头1: 全景（建立追逐空间）                  10s
镜头2: 跟拍/中景（追者视角）                 10-12s
镜头3: 跟拍/中景（逃者视角）                 10-12s
镜头4: 特写（脚步/表情/障碍物）              8s
镜头5: 远景（展示距离变化）                   10s
镜头6: 手持/中景（高潮对抗）                 8-10s
```

#### 揭示/发现场次

```
镜头1: 近景（角色表情——惊讶/震撼的开始）     8s
镜头2: 拉镜头（从角色拉出，揭示所见之物）     10-12s  ← 核心镜头
镜头3: 全景/大远景（完全揭示）               10s
镜头4: 特写（角色反应）                      8s
```

#### 超自然事件场次

```
镜头1: 中景/全景（事件发生前的常态）          10s
镜头2: 特写（触发瞬间——光效/变化起始点）     8s
镜头3: 全景/仰视（超自然效果全面展开）        10-12s
镜头4: 中景（角色在超自然效果中的反应）       8-10s
镜头5: 大远景（事件影响范围的全貌）           10s
镜头6: 特写（事件结束后的残余效果/角色状态）  8s
```

#### 情感/氛围场次

```
镜头1: 远景/全景（建立孤独/广阔的空间感）     12-15s  ← 长镜头留白
镜头2: 中景（角色状态，慢运镜）              10-12s
镜头3: 特写（面部、手部等情绪细节）           8-10s
```

#### 大场面/战斗场次

```
镜头1: 大远景/鸟瞰（建立战场全貌）           10-12s
镜头2: 全景（一方阵营视角）                  10s
镜头3: 中景/跟拍（主角在混乱中穿梭）         10-12s
镜头4: 特写（关键对抗瞬间）                  8s
镜头5: 中景（另一方视角/反应）               8-10s
镜头6: 大远景（战况变化/转折点）              10s
镜头7: 特写（胜负已分的表情/动作）            8s
```

---

## 与下游阶段的数据接口

### → 阶段6（首帧合成）

分镜脚本为阶段6提供：

1. **画面描述** → Seedream 提示词的蓝本
2. **元素标注（stage_id）** → 通过 `asset_index.md` 定位参考图
3. **连续性需求** → 判断是否需要生成首帧+尾帧（First/Last Frame 模式）
4. **参考图使用建议** → 指导 Seedream 的参考图权重设置

**阶段6的查找流程**：
```
分镜标注: 朱围庸（阶段：占身乞丐期）
    → 查 asset_index.md: 角色=朱围庸, stage_id=占身乞丐期
    → 参考图路径: characters/朱围庸/占身乞丐期/*.png
    → 同时查肖像: characters/朱围庸/_portrait/*.png（一致性锚点）
    → 输入 Seedream：参考图 + 分镜画面描述 → 生成首帧
```

### → 阶段7（视频生成）

分镜脚本为阶段7提供：

1. **运镜方式** → Seedance 运动提示词（`camera pushes in`, `tracking shot` 等）
2. **动态描述** → Seedance 文本提示词中的动作描述
3. **时长** → Seedance 生成参数
4. **音效提示** → Seedance 音频生成引导（如支持）

### → 阶段8（剪辑后期）

分镜脚本为阶段8提供：

1. **镜头顺序** → 剪辑的基本序列
2. **衔接方式** → 转场效果的选择依据
3. **场次情绪弧线** → 配乐和调色的情绪指引
4. **预估时长** → 节奏控制的参考基线

---

## 常见错误（必须避免）

| 错误 | 后果 | 预防 |
|------|------|------|
| 角色 stage_id 标注错误 | 阶段6查找到错误的参考图，角色"变脸" | 必须使用章节→阶段映射表推导，不可凭记忆 |
| 场景 stage_id 遗漏 | 阶段6无法确定场景应使用哪个阶段的概念图 | 每个镜头的场景必须标注 stage_id |
| 单镜头超过15秒 | Seedance 2.0 无法生成，流水线中断 | 逐镜头检查时长，超时必须拆分 |
| 未设计镜头衔接点 | 拆分后的多镜头之间视觉不连续，"跳帧" | 每个拆分点必须标注衔接方式 |
| 场次分解不彻底 | 一个场次内出现时空跳跃，违反场次定义 | 回检每个场次：时间是否连续？空间是否唯一？ |
| 跳过事件预可视化 | 复杂场面直接进入分镜，缺乏整体视觉概念 | ★★★★★ 事件必须预可视化 |
| 分镜描述过于笼统 | 阶段6无法据此生成准确的首帧 | 画面描述必须包含具体的构图、光影、色彩信息 |
| 全片节奏失衡 | 某些段落镜头过密/过疏，观感不佳 | 完成全部镜头设计后做节奏审查 |
| 遗漏重要章节内容 | 小说中的关键情节在影片中消失 | 完成场次分解后做覆盖完整性审查 |
| First/Last Frame 需求遗漏 | 需要连续的镜头在阶段6中被独立生成，衔接断裂 | 每个动作衔接/运动衔接的镜头对必须标注连续性需求 |
| 画面描述包含角色真名 | 泄露到 AI 提示词中，生成结果不可控 | 分镜中可用角色名标注，但首帧合成提示中应使用通用描述 |
| asset_index 中无对应资产 | 分镜标注了元素+stage_id 但阶段4未生成对应图片 | 第六步全局审查时做资产可用性交叉验证 |

## 质量标准

合格的分镜资料必须满足：

1. **全面覆盖**：小说的每一章都有对应的场次，无遗漏重要情节
2. **stage_id 精确**：每个镜头的角色/场景/道具阶段标注与圣经阶段注册表字面完全一致
3. **时长合规**：所有镜头时长在 8-15 秒范围内，无超时镜头
4. **衔接完整**：所有需要视觉连续的镜头对都有明确的衔接方式和 First/Last Frame 标注
5. **可生成**：每个镜头的画面描述足够详细，能直接转化为 Seedream 提示词
6. **资产可映射**：每个元素+stage_id 组合都能在 `asset_index.md` 中找到对应参考图
7. **节奏合理**：全片的场次时长分布和镜头密度分布符合叙事需要，无明显失衡
8. **事件锚定**：所有 ★★★★★ 事件都有预可视化概念图，并在对应场次的分镜中得到充分表现
9. **下游可用**：阶段6可直接从分镜脚本中提取画面描述+stage_id→参考图路径；阶段7可直接提取运镜方式和动态描述；阶段8可直接按镜头顺序+衔接方式进行剪辑
