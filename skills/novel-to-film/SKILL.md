---
name: novel-to-film
description: 将小说转化为电影前期制作资料的专业工作流。当用户需要为小说创建电影制作资料库（角色圣经、场景圣经、道具设计、视觉指南、关键场景、AI绘图提示词等）时触发此技能。适用于：(1) 小说插图制作 (2) 电影/动画前期开发 (3) 视觉化故事开发 (4) 剧本改编准备
---

# 小说转电影制作资料

## 核心原则

**先全局，后局部** — 必须先完整扫描全部章节，建立完整元素清单，再逐一创建资料文件。

## 工作流程

### 阶段1：全局扫描（必须）

在创建任何文件之前，先扫描全部章节提取元素清单：

```bash
# 提取所有地名
grep -rh "城\|镇\|村\|山\|森林\|河\|湖\|桥" chapters/ | sort | uniq

# 提取所有人名（需根据具体小说调整）
grep -rh "老\|小\|先生\|夫人" chapters/ | sort | uniq

# 提取关键道具/物品
grep -rh "泉水\|灵魂\|宝物" chapters/ | sort | uniq
```

产出：`_extraction/locations.txt`, `_extraction/characters.txt`, `_extraction/props.txt`

### 阶段2：元素分类与章节标注

为每个元素标注出现章节范围：

| 元素 | 类型 | 首次出现 | 末次出现 | 重要性 |
|------|------|----------|----------|--------|
| 荣康城 | 场景 | 第46章 | 第70章 | ★★★★★ |
| 小顶 | 角色 | 第10章 | 第71章 | ★★★★☆ |

**重要性评估标准**：
- ★★★★★：贯穿主线，多章出现
- ★★★★☆：关键转折点出现
- ★★★☆☆：支线重要元素
- ★★☆☆☆：偶尔出现
- ★☆☆☆☆：一次性出现

### 阶段3：建立文件夹结构

```
production/
├── 01_story_bible/      # 世界观、时间线
├── 02_characters/       # 角色圣经
│   ├── 主角/
│   ├── 配角/
│   └── 群像/
├── 03_locations/        # 场景圣经
│   ├── 阳间/
│   └── 阴间/（如适用）
├── 04_props/            # 关键道具
├── 05_visual_design/    # 色彩脚本、光影设计
├── 06_key_scenes/       # 高光时刻、AI提示词
└── 07_continuity/       # 连续性追踪
```

### 阶段4：按优先级创建文件

创建顺序：★★★★★ → ★★★★☆ → ★★★☆☆ → ...

每个文件必须覆盖元素的**完整章节范围**，不可只覆盖部分。

### 阶段5：交叉验证（必须）

创建完成后执行验证：

```bash
# 验证场景覆盖
for loc in $(cat _extraction/locations.txt); do
  if [ ! -f "production/03_locations/*/$loc.md" ]; then
    echo "缺失: $loc"
  fi
done
```

验证检查清单：
- [ ] 所有★★★★★元素已创建文件
- [ ] 每个文件覆盖元素的完整章节范围
- [ ] 无遗漏的重要场景/角色/道具

## 常见错误（必须避免）

| 错误 | 后果 | 预防 |
|------|------|------|
| 只读Part 1就开始创建 | 遗漏后续章节的元素 | 先扫描全部章节 |
| 边做边补 | 覆盖不完整 | 先建清单再创建 |
| 不验证覆盖率 | 遗漏难以发现 | 必须执行阶段5 |
| 假设早期章节包含全部 | 错过后期新增元素 | 全局扫描无例外 |

## 文件模板

### 角色圣经模板

```markdown
# [角色名] | 角色圣经

## 基本信息
| 属性 | 描述 |
|------|------|
| 首次出现 | 第X章 |
| 覆盖章节 | 第X-Y章 |

## 外貌特征
[分阶段描述，覆盖全部相关章节]

## 性格与动机
## 角色发展弧线
## AI绘图提示词
```

### 场景圣经模板

```markdown
# [场景名] | 场景圣经

## 基本信息
| 属性 | 描述 |
|------|------|
| 首次出现 | 第X章 |
| 覆盖章节 | 第X-Y章 |

## 地理特征
## 氛围与感官
## 视觉设计指南
## AI绘图提示词
```

## 质量标准

合格的制作资料必须满足：

1. **完整性**：覆盖元素出现的全部章节
2. **可用性**：包含可直接使用的AI绘图提示词
3. **一致性**：同一元素在不同文件中描述一致
4. **可追溯**：标注信息来源章节
